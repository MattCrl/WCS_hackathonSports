{% extends 'base.html.twig' %}

{% block body %}
    <h1>Tournament</h1>

    {% if tournament.games[0] is defined %}
        {% set currentLevel = tournament.games[0].level %}

        {% for i in currentLevel..0 %}
            <div class="card">
                <div class="card-header">
                    {{ constant('GAME_LEVELS', tournament)[i] }}
                </div>
            </div>
            <ul class="list-group list-group-flush">
                {% for game in tournament.games if game.level == i %}
                    <li class="list-group-item">
                        <div>
                        {% if game.team1 %}
                            <img src="http://www.countryflags.io/{{ game.team1.country.code }}/shiny/32.png" alt="">
                        {% endif %}
                        {{ game.team1.name|default('...') }}
                        vs
                        {{ game.team2.name|default('...') }}
                        {% if game.team2 %}
                            <img src="http://www.countryflags.io/{{ game.team2.country.code }}/shiny/32.png" alt="">
                        {% endif %}
                        </div>

                        <div>
                            {{ game.startAt|date('d F Y H:i') }}{% if game.startAt and game.place %},
                            {% endif %}
                            {{ game.place }}
                        </div>

                    </li>
                {% endfor %}
            </ul>
        {% endfor %}
    {% endif %}


{% endblock %}
